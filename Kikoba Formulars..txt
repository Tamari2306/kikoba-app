Kikoba Formulars.

$$\text{Profit Share} = \text{Net Profit Pool} \times \left( \frac{\text{Member's Total Hisa}}{\text{Group's Total Hisa}} \right)$$

Overdue loans
overdue_loans = db.execute("""
        SELECT l.id, l.member_id
        FROM loans l
        WHERE l.status IN ('Active', 'Overdue')
        AND l.due_date < ?
    """, (today,)).fetchall()

For testing
overdue_loans = db.execute("""
        SELECT l.id, l.member_id
        FROM loans l
        WHERE l.id = ?  -- !!! TEMPORARY FILTER !!! Replace 1 with your test Loan ID
    """, (1,)).fetchall()

SQL COMMANDS Testing.
import sqlite3
conn = sqlite3.connect('kikoba.db')
# Now you can run any command quickly:
conn.execute("UPDATE members SET name='Admin' WHERE id=1")
conn.commit()
exit()


Tables in kikoba.db
-members
-contributions
-loans
-rejesho
-penalties
-settings
-loan_rules
-*sqlite_sequence


Table: settings
 - key
 - value

Table: loan_rules
 - id
 - min_principal
 - max_principal
 - days

Table: sqlite_sequence
 - name
 - seq

Table: members
 - id
 - name
 - phone
 - joined_date

Table: contributions
 - id
 - member_id
 - type
 - amount
 - date

Table: loans
 - id
 - member_id
 - principal
 - interest
 - total
 - start_date
 - due_date
 - status

Table: rejesho
 - id
 - loan_id
 - amount
 - date

Table: penalties
 - id
 - member_id
 - loan_id
 - type
 - amount
 - amount_paid
 - description
 - date
>>>